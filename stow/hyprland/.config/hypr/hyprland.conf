# Monitor configuration - uses preferred resolution
# For manual configuration, uncomment and adjust:
# monitor=HDMI-A-1,1920x1080@60,0x0,1
# To find your monitor name: hyprctl monitors
# DP-3 is the primary monitor (at 0x0)
# Workspaces 1-5 on DP-3, 6-9 on HDMI-A-1 (configured below)
monitor=DP-3,2560x1440@164.84,0x0,1.00
monitor=HDMI-A-1,2560x1440@59.95,2560x0,1.00
monitor=eDP-1,1920x1200@60.00,5120x0,1.00

input {
    kb_layout = no
    follow_mouse = 1
    touchpad {
        natural_scroll = yes
    }
}

general {
    gaps_in = 8
    gaps_out = 10
    border_size = 3
    col.active_border = rgba(d4a574ff)
    col.inactive_border = rgba(5c4a3aff)
    layout = dwindle
}

decoration {
    rounding = 6
    blur {
        enabled = true
        size = 12
        passes = 3
        ignore_opacity = true
    }
    # Shadow settings removed - not available in this Hyprland version
    # If you want shadows, check your Hyprland version's documentation
}

animations {
    enabled = no
}

# Gestures configuration (uncomment if supported in your Hyprland version)
# gestures {
#     workspace_swipe = true
#     workspace_swipe_fingers = 3
# }

# Environment variables - ensure ~/.local/bin is in PATH
env = PATH,$HOME/.local/bin:$PATH
# GTK theme - dark mode
env = GTK_THEME,Adwaita-dark
env = GTK_THEME_NAME,Adwaita-dark

exec-once = ~/.local/bin/start-hyprpaper.sh
exec-once = waybar
exec-once = dunst
exec-once = wl-clip-persist --clipboard
exec-once = ~/.local/bin/start-cliphist.sh

# === KEYBINDS ===
bind = SUPER, SPACE, exec, tofi-drun --drun-launch=true
bind = SUPER, RETURN, exec, ghostty
bind = SUPER, Q, killactive
bind = SUPER, F, fullscreen, 0
bind = SUPER, TAB, cyclenext
bind = SUPER, S, exec, flatpak run com.spotify.Client

# Workspace bindings to monitors (using workspaceOpts in monitor config above)
# Additional explicit bindings for reliability
workspace = 1, monitor:DP-3, default:true
workspace = 2, monitor:DP-3
workspace = 3, monitor:DP-3
workspace = 4, monitor:DP-3
workspace = 5, monitor:DP-3
workspace = 6, monitor:HDMI-A-1, default:true
workspace = 7, monitor:HDMI-A-1
workspace = 8, monitor:HDMI-A-1
workspace = 9, monitor:HDMI-A-1

# Workspaces 1-9
bind = SUPER, 1, workspace, 1
bind = SUPER SHIFT, 1, movetoworkspace, 1
bind = SUPER, 2, workspace, 2
bind = SUPER SHIFT, 2, movetoworkspace, 2
bind = SUPER, 3, workspace, 3
bind = SUPER SHIFT, 3, movetoworkspace, 3
bind = SUPER, 4, workspace, 4
bind = SUPER SHIFT, 4, movetoworkspace, 4
bind = SUPER, 5, workspace, 5
bind = SUPER SHIFT, 5, movetoworkspace, 5
bind = SUPER, 6, workspace, 6
bind = SUPER SHIFT, 6, movetoworkspace, 6
bind = SUPER, 7, workspace, 7
bind = SUPER SHIFT, 7, movetoworkspace, 7
bind = SUPER, 8, workspace, 8
bind = SUPER SHIFT, 8, movetoworkspace, 8
bind = SUPER, 9, workspace, 9
bind = SUPER SHIFT, 9, movetoworkspace, 9

# Reset all workspaces to their assigned monitors
bind = SUPER CONTROL, R, exec, ~/.local/bin/reset-workspaces.sh

# Super+K: Keybind display
bind = SUPER, K, exec, bash ~/.config/hypr/hyprland-keys.conf

# Window navigation (Super + Arrow keys)
bind = SUPER, left, movefocus, l
bind = SUPER, right, movefocus, r
bind = SUPER, up, movefocus, u
bind = SUPER, down, movefocus, d

# Window movement (Super + Shift + Arrow keys) - move window to screen edges
bind = SUPER SHIFT, left, movewindow, l
bind = SUPER SHIFT, right, movewindow, r
bind = SUPER SHIFT, up, movewindow, u
bind = SUPER SHIFT, down, movewindow, d

# Super+M: Monitor management (TUI)
bind = SUPER, M, exec, ghostty --class hyprmon -e ~/.local/bin/hyprmon

# Super+B: Chromium browser (Personal/Default profile)
bind = SUPER, B, exec, ~/.local/bin/chromium-launcher.sh --profile=Default
# Super+Shift+B: Chromium browser (Work profile)
bind = SUPER SHIFT, B, exec, ~/.local/bin/chromium-launcher.sh --profile=Work

# Unified Clipboard (like Omarchy)
# Super+C: Copy primary selection to clipboard
bind = SUPER, C, exec, ~/.local/bin/clipboard-copy.sh
# Super+V: Show clipboard history and paste
bind = SUPER, V, exec, ~/.config/cliphist/cliphist-menu.sh

# Screenshots
# Super+Shift+S: Area selection screenshot
bind = SUPER SHIFT, S, exec, ~/.local/bin/screenshot-area.sh
# Super+Shift+F: Full screen screenshot
bind = SUPER SHIFT, F, exec, ~/.local/bin/screenshot-full.sh
# Super+Shift+W: Active window screenshot
bind = SUPER SHIFT, W, exec, ~/.local/bin/screenshot-window.sh

# Screen Recording
# Super+Shift+R: Toggle screen recording (start/stop)
bind = SUPER SHIFT, R, exec, ~/.local/bin/screenrecord.sh

# Dev tools
bind = SUPER, G, exec, ~/.local/bin/lazygit-launcher.sh
bind = SUPER, D, exec, ghostty --class lazydocker -e lazydocker
bind = SUPER SHIFT, D, exec, ~/.local/bin/toggle-docker.sh
bind = SUPER, N, exec, ghostty --class nvim -e nvim
bind = SUPER, P, exec, ghostty --class python-project -e ~/.local/bin/python-project

# Floating + centered
windowrulev2 = float, class:^(ghostty)$, title:^(lazygit|lazydocker|nvim|python-project|bluetuith|hyprmon|Docker Toggle)$
windowrulev2 = size 1200 800, class:^(ghostty)$, title:^(lazygit|lazydocker|nvim|bluetuith|hyprmon)$
windowrulev2 = size 600 200, class:^(ghostty)$, title:^(Docker Toggle)$
windowrulev2 = center, class:^(ghostty)$, title:^(lazygit|lazydocker|nvim|python-project|bluetuith|hyprmon|Docker Toggle)$

# WebApps - borderless, fullscreen-like experience (like Omarchy)
# Chromium with --app flag already removes window decorations, but ensure no Hyprland borders
# Match any window class that's not the default chromium-browser (webapps use custom classes)
windowrulev2 = noborder, class:^(chromium-browser|chromium)$, title:^(?!Chromium|New Tab|.* - Chromium).*$
windowrulev2 = rounding 0, class:^(chromium-browser|chromium)$, title:^(?!Chromium|New Tab|.* - Chromium).*$
